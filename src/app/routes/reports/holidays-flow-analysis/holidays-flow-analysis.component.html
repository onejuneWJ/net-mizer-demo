<app-main-content>
  <app-content-header [title]="'节假日流量统计'"></app-content-header>
  <app-content-body>

    <form nz-form [formGroup]="searchForm">
      <nz-row nzGutter="48">
        <nz-col nzSpan="6">
          <nz-form-item nzGutter="12">
            <nz-form-label nzSpan="8">时间</nz-form-label>
            <nz-form-control nzSpan="16">
              <nz-date-picker formControlName="time"></nz-date-picker>
            </nz-form-control>
          </nz-form-item>
        </nz-col>
        <nz-col nzSpan="6">
          <button nz-button nzType="primary" (click)="search()">查询</button>
          <button nz-button nzType="default" type="reset" style="margin-left: 16px">重置</button>
        </nz-col>
      </nz-row>
    </form>

    <nz-table
      #basicTable
      [nzData]="dataList"
      nzBordered
      nzSize="small"
      nzPageSize="20"
      nzShowSizeChanger
    >
      <thead>
      <tr>
        <th nzWidth="400px">时间</th>
        <th nzWidth="400px">维度</th>
        <th nzWidth="400px">上行流量</th>
        <th nzWidth="400px">下行流量</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let data of basicTable.data; index as index">
          <ng-container *ngIf="index % 5 === 0">
            <td rowspan="5">{{data.time| date: 'yyyy-MM-dd HH:mm:ss'}}</td>
            <td>{{data.dimension}}</td>
            <td>{{data.upFlow}}</td>
            <td>{{data.downFlow}}</td>
          </ng-container>
          <ng-container *ngIf="index%5!==0">
            <td>{{data.dimension}}</td>
            <td>{{data.upFlow}}</td>
            <td>{{data.downFlow}}</td>
          </ng-container>
      </tr>
      </tbody>
    </nz-table>
  </app-content-body>
</app-main-content>
